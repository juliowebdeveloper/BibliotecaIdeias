<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui" >
	
<h:head>
<meta charset="utf-8" />

	<!-- Css Primefaces = default.css -->
	<link type="text/css" rel="stylesheet" href="../CSS/site/default.css" />
		<link type="text/css" rel="stylesheet" href="../site/CSS/home.css" />
		<link rel="shortcut icon" href="images/favicon.ico" />
	

<link href="../CSS/estilos_historico.css" rel="stylesheet" type="text/css" />

	
<title>Biblioteca de Idéias - Histórico de Acesso</title>



<script type="text/javascript" language="javascript">
//<![CDATA[ 
           
           function relogio(){
	var data = new Date();
	var horas = data.getHours();
	var minutos = data.getMinutes();
	var segundos = data.getSeconds();


	if(horas < 10){
		horas = "0" + horas;

	}

	
	if(minutos < 10){
				minutos = "0" + minutos;
		}

	if(segundos < 10){
		segundos = "0" + segundos;
		
		}
	document.getElementById("relogio").innerHTML = horas + " : " + minutos + " : " + segundos;	
}





window.setInterval("relogio()", 1000);
           
  //]]>


</script>

<script>

$('document').ready(function(e) {
    
	
	$('nav ul li').hover(function(e)
	{

	},
	function(e)
	{
	});
	
});


$('document').ready(function(){
	  $("#chooseall").click(function(){
	    $("chooseallform").show();
	    $("chooseperiodform").hide();
	    
	  });
	  
	  $("#chooseperiod").click(function(){
		  $("chooseallform").hide();
		    $("chooseperiodform").show();
	  });
	});


</script>


</h:head>
	
	



    
    <body class="home">
    
			<ui:include src="/WEB-INF/headertemplate.xhtml" />
            
            <div class="wrapper">
            
            <div class="breadcrumbs bordas degrade-horizontal">
            <h:graphicImage alt="logsicon" value="/site/images/icons/logsicon.png" width="30" height="30" />	Biblioteca de Ideias / <b>Histórico de Acessos</b>
            </div>
            
            <section class="bordas main degrade-horizontal">
              <section class="inner">
                    
                  <header>
                            <h2>Acompanhe as atividades dos usuários no sistema:</h2>
                            <hr/>
                            <sub>Escolha o funcionário e o período que deseja ver seus registros</sub>
                </header> 
                
                <p:messages id="denialMessages"
			showDetail="true" rendered="#{!logBean.access}" /> 
			
			<p:messages
			showDetail="true" showSummary="true" id="messag"
			rendered="#{logBean.access}" />

	

				 <h:form id ="formfunclog">
	<h:panelGrid columns ="3">
       	<p:selectOneMenu style="width: 250px; margin: 0 auto;"
						value="#{logBean.codFunc}" id="funcs">
						<f:selectItem itemLabel=" Selecione um funcionário " itemValue="0"  />
						<f:selectItems value="#{logBean.funcionarios}" var="func"
							itemValue="#{func.id}" itemLabel="#{func.nomeCompleto}" />
					</p:selectOneMenu>
					
					     	<p:selectOneMenu
						style="width: 70px; margin: 0 auto;"
						value="#{logBean.anoSelect}" id="anos">
						<f:selectItem itemLabel="Ano " itemValue="0"  />
						<f:selectItems value="#{logBean.anos}" var="ano"
							itemValue="#{ano}" itemLabel="#{ano}" />

					</p:selectOneMenu>
					
					
					     	<p:selectOneMenu
						style="width: 110px; margin: 0 auto;"
						value="#{logBean.meselect}" id="meses">
						<f:selectItem itemLabel="Mês " itemValue="-1"  />
						<f:selectItems value="#{logBean.meses}" var="mes"
							itemValue="#{mes}" itemLabel="#{mes}" />
					</p:selectOneMenu>
					
					<p:commandButton value ="Buscar" actionListener="#{logBean.buscarPorPeriodo}" update="panelResults" />
</h:panelGrid>







<h:panelGrid columns="4" id ="panelResults">
 <f:facet name="header">
        <p:row>
            <p:column colspan="7">
            
            
            Resultados de registros do funcionário no mes de  #{logBean.meselect}/ #{logBean.anoSelect} 
            
             </p:column>
        </p:row>
        </f:facet>
        

        <p:column headerText="Cadastrou Clientes"><span style ="font-weight:bold;">  Cadastrou clientes</span>
        </p:column>
        
        
        <p:column headerText="Cadastrou Clientes"><span style ="font-weight:bold;">Acessou clientes</span></p:column>
        <p:column headerText="Cadastrou Clientes"><span style ="font-weight:bold;">Logou-se</span></p:column>
		<p:column headerText="Cadastrou Clientes"><span style ="font-weight:bold;">Deslogou-se</span></p:column>
        
   
        
       
        <p:column style="font-weight: bold;">#{logBean.cadastrouResultado} vezes </p:column>
        <p:column style="font-weight: bold;">#{logBean.acessouResultado} vezes </p:column>
        <p:column rowspan="2" style="font-weight: bold;">#{logBean.logouResultado} vezes</p:column>
        <p:column rowspan="2" style="font-weight: bold;">#{logBean.deslogouResultado} vezes</p:column>


 

</h:panelGrid>



						</h:form>
          
                    
                    




                 
				
		</section>
                
              
                </section>
                
     
            
            
            
            
            
            
            
            
            
            
            
            
            
              <footer>
            		Copyright - Biblioteca de Ideias
            </footer>
          
          	</div>
          
    </body>

</html>